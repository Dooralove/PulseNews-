# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∏ "Uncaught TypeError: i.map is not a function"

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

### 1. **–û–±–Ω–æ–≤–ª–µ–Ω UserSerializer** (backend)
- –ó–∞–º–µ–Ω–∏–ª `SerializerMethodField` –Ω–∞ `BooleanField` –¥–ª—è `can_manage_articles`
- –§–∞–π–ª: `backend/news/serializers.py`

### 2. **–û–±–Ω–æ–≤–ª–µ–Ω —Ç–∏–ø User** (frontend)
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è: `can_manage_articles`, `can_moderate_content`, `is_staff`, `is_superuser`
- –§–∞–π–ª: `frontend/src/types/index.ts`

### 3. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω AuthContext** (frontend)
- –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `user.can_manage_articles` –≤–º–µ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏
- –§–∞–π–ª: `frontend/src/contexts/AuthContext.tsx`

### 4. **–î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏** –≤ ArticleForm.tsx:
```javascript
// –ü–µ—Ä–µ–¥ –≤—Å–µ–º–∏ .map() –≤—ã–∑–æ–≤–∞–º–∏:
{Array.isArray(categories) && categories.map(...)}
{Array.isArray(tags) && tags.map(...)}
{Array.isArray(selected) && selected.map(...)}

// –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
tags: Array.isArray(article.tags) ? article.tags.map(t => t.id) : []
value = Array.isArray(value) ? value : []
```

### 5. **–û—á–∏—â–µ–Ω –∫—ç—à –∏ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**
- –û—á–∏—â–µ–Ω Django cache
- –ü–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω backend
- –ü–µ—Ä–µ—Å–æ–±—Ä–∞–Ω–∞ frontend —Å –Ω—É–ª—è

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å** –∫–∞–∫ admin (admin/admin123)
2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ** –Ω–∞ `/test-form` - —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `/articles/create`

## üîç –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –æ—Å—Ç–∞–ª–∞—Å—å:

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞** (Ctrl+Shift+R –∏–ª–∏ Ctrl+F5)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞** –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫
3. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API** –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤—ã (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ - —Ä–∞–±–æ—Ç–∞–µ—Ç)

## üìù –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤:
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ `Array.isArray()` –ø–µ—Ä–µ–¥ `.map()` –≤—ã–∑–æ–≤–∞–º–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ä–æ–≥–æ JavaScript –∫–æ–¥–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ç API

–¢–µ–ø–µ—Ä—å —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ! üéâ
